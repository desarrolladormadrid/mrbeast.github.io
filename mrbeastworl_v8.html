<html><head><base href="https://www.mql5.com/es/signals/author/desarrolladormadrid?orderby=gain">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MR BEAST WORLD MARKET - Forex & Crypto Charts</title>
<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<style>
  body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 0;
    transition: all 0.3s;
  }
  .header {
    display: flex;
    flex-direction: column;
    padding: 20px;
    transition: all 0.3s;
  }
  .header-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  .symbol-selector {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
  }
  .symbol-checkbox {
    display: flex;
    align-items: center;
  }
  h1 {
    font-size: 2.5em;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin: 0;
    transition: all 0.3s;
  }
  h1 a {
    text-decoration: none;
    transition: opacity 0.3s;
  }
  h1 a:hover {
    opacity: 0.8;
  }
  .container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    padding: 10px;
  }
  .chart-container {
    margin-bottom: 20px;
    border-radius: 10px;
    overflow: hidden;
    transition: all 0.3s;
  }
  .chart {
    height: 400px;
  }
  .chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    transition: all 0.3s;
  }
  h2 {
    margin: 0;
    font-size: 1.2em;
    transition: all 0.3s;
  }
  .selector {
    padding: 5px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
    margin-left: 5px;
  }
  .selector:hover {
    opacity: 0.8;
  }
  .section-title {
    width: 100%;
    text-align: center;
    font-size: 2em;
    margin: 20px 0;
    padding: 10px;
    border-radius: 10px;
    transition: all 0.3s;
  }
  @media (max-width: 1200px) {
    .chart-container {
      width: calc(50% - 20px);
    }
  }
  @media (max-width: 768px) {
    .chart-container {
      width: 100%;
    }
    .header-top {
      flex-direction: column;
      align-items: flex-start;
    }
    .selector {
      margin-top: 10px;
    }
  }

  /* Default Theme (Beast Mode) */
  body.beast-mode {
    background-color: #000000;
    color: #e0e0e0;
  }
  .beast-mode .header {
    background-color: #111111;
  }
  .beast-mode h1 a {
    color: #00ff00;
    text-shadow: 0 0 10px rgba(0,255,0,0.7);
  }
  .beast-mode .chart-container {
    background-color: #111111;
    box-shadow: 0 0 20px rgba(0,255,0,0.1);
  }
  .beast-mode .chart-header {
    background-color: #222222;
  }
  .beast-mode h2 {
    color: #00ff00;
  }
  .beast-mode .selector {
    background-color: #333333;
    color: #e0e0e0;
  }
  .beast-mode .section-title {
    background-color: rgba(0,255,0,0.1);
  }
  .beast-mode .symbol-checkbox {
    color: #e0e0e0;
  }

  /* Other themes remain the same */
</style>
</head>
<body class="beast-mode">
  <div class="header">
    <div class="header-top">
      <h1><a href="https://www.mql5.com/es/signals/author/desarrolladormadrid?orderby=gain" target="_blank">MR BEAST WORLD MARKET</a></h1>
      <div>
        <select id="columnSelector" class="selector">
          <option value="1">1 Column</option>
          <option value="2">2 Columns</option>
          <option value="3" selected>3 Columns</option>
          <option value="4">4 Columns</option>
          <option value="5">5 Columns</option>
          <option value="6">6 Columns</option>
        </select>
        <select id="themeSelector" class="selector">
          <option value="beast-mode">Beast Mode</option>
          <option value="ocean-blue">Ocean Blue</option>
          <option value="sunset-gold">Sunset Gold</option>
          <option value="neon-cyberpunk">Neon Cyberpunk</option>
          <option value="forest-green">Forest Green</option>
          <option value="royal-purple">Royal Purple</option>
          <option value="cherry-blossom">Cherry Blossom</option>
          <option value="arctic-frost">Arctic Frost</option>
          <option value="volcano-heat">Volcano Heat</option>
          <option value="zen-garden">Zen Garden</option>
        </select>
        <select id="globalIndicatorSelector" class="selector">
          <option value="ADX">ADX (Average Directional Index)</option>
          <option value="MA">Moving Average</option>
          <option value="EMA">Exponential Moving Average</option>
          <option value="RSI">Relative Strength Index</option>
          <option value="MACD">MACD</option>
          <option value="BB">Bollinger Bands</option>
        </select>
        <select id="globalTimeframeSelector" class="selector">
          <option value="D">Daily</option>
          <option value="240">4 Hours</option>
          <option value="60">1 Hour</option>
          <option value="30">30 Minutes</option>
          <option value="15">15 Minutes</option>
          <option value="5">5 Minutes</option>
          <option value="1">1 Minute</option>
        </select>
      </div>
    </div>
    <div class="symbol-selector" id="symbolSelector">
      <!-- Symbol checkboxes will be dynamically inserted here -->
    </div>
  </div>
  <div class="container" id="forexContainer">
    <div class="section-title">Forex & Commodities</div>
    <!-- Forex charts will be dynamically inserted here -->
  </div>
  <div class="container" id="cryptoContainer">
    <div class="section-title">Cryptocurrencies</div>
    <!-- Crypto charts will be dynamically inserted here -->
  </div>

  <script>
    const forexPairs = [
      "XAUUSD", "EURUSD", "EURJPY", "GBPUSD", "USDJPY", "USDCHF", "AUDUSD", "USDCAD", "NZDUSD", "EURGBP",
      "GBPJPY", "EURCHF", "AUDJPY", "CADJPY", "NZDJPY", "GBPCHF", "EURAUD", "EURNZD", "GBPAUD", "GBPNZD",
      "AUDNZD"
    ];

    const cryptoPairs = [
      "BTCUSD", "ETHUSD", "XRPUSD"
    ];

    const forexContainer = document.getElementById('forexContainer');
    const cryptoContainer = document.getElementById('cryptoContainer');
    const themeSelector = document.getElementById('themeSelector');
    const globalIndicatorSelector = document.getElementById('globalIndicatorSelector');
    const globalTimeframeSelector = document.getElementById('globalTimeframeSelector');
    const symbolSelector = document.getElementById('symbolSelector');
    const columnSelector = document.getElementById('columnSelector');
    let forexWidgets = [];
    let cryptoWidgets = [];

    function getIndicatorSettings(indicator) {
      switch(indicator) {
        case "ADX":
          return [
            { "id": "ADX@tv-basicstudies", "inputs": { "length": 14 } }
          ];
        case "MA":
          return [
            { "id": "MASimple@tv-basicstudies", "inputs": { "length": 20 } }
          ];
        case "EMA":
          return [
            { "id": "MAExp@tv-basicstudies", "inputs": { "length": 20 } }
          ];
        case "RSI":
          return [
            { "id": "RSI@tv-basicstudies", "inputs": { "length": 14 } }
          ];
        case "MACD":
          return [
            { "id": "MACD@tv-basicstudies" }
          ];
        case "BB":
          return [
            { "id": "BB@tv-basicstudies" }
          ];
        default:
          return [
            { "id": "ADX@tv-basicstudies", "inputs": { "length": 14 } }
          ];
      }
    }

    function getThemeSettings(theme) {
      const isDark = ['beast-mode', 'ocean-blue', 'neon-cyberpunk', 'forest-green', 'royal-purple', 'volcano-heat'].includes(theme);
      
      let upColor, downColor, backgroundColor, textColor;

      switch(theme) {
        case 'beast-mode':
          upColor = "#00ff00";
          downColor = "#ff0000";
          backgroundColor = "#000000";
          textColor = "#e0e0e0";
          break;
        // Other theme cases remain the same
        default:
          upColor = "#00ff00";
          downColor = "#ff0000";
          backgroundColor = "#000000";
          textColor = "#e0e0e0";
      }

      return {
        isDark,
        upColor,
        downColor,
        backgroundColor,
        textColor
      };
    }

    function createWidget(pair, index, interval, theme, indicator, isCrypto = false) {
      const themeSettings = getThemeSettings(theme);
      const containerId = `chart-${isCrypto ? 'crypto' : 'forex'}-${index}`;
      
      return new TradingView.widget({
        "width": "100%",
        "height": 400,
        "symbol": isCrypto ? `BINANCE:${pair}` : `FOREXCOM:${pair}`,
        "interval": interval,
        "timezone": "Etc/UTC",
        "theme": themeSettings.isDark ? "dark" : "light",
        "style": "1",
        "locale": "es",
        "toolbar_bg": themeSettings.backgroundColor,
        "enable_publishing": false,
        "hide_top_toolbar": false,
        "hide_legend": false,
        "save_image": false,
        "container_id": containerId,
        "studies": getIndicatorSettings(indicator),
        "disabled_features": [
          "use_localstorage_for_settings",
          "volume_force_overlay",
          "create_volume_indicator_by_default"
        ],
        "enabled_features": [
          "study_templates"
        ],
        "overrides": {
          "mainSeriesProperties.candleStyle.upColor": themeSettings.upColor,
          "mainSeriesProperties.candleStyle.downColor": themeSettings.downColor,
          "mainSeriesProperties.candleStyle.drawWick": true,
          "mainSeriesProperties.candleStyle.drawBorder": true,
          "mainSeriesProperties.candleStyle.borderUpColor": themeSettings.upColor,
          "mainSeriesProperties.candleStyle.borderDownColor": themeSettings.downColor,
          "paneProperties.background": themeSettings.backgroundColor,
          "paneProperties.vertGridProperties.color": themeSettings.isDark ? "#222222" : "#e0e0e0",
          "paneProperties.horzGridProperties.color": themeSettings.isDark ? "#222222" : "#e0e0e0",
          "scalesProperties.textColor": themeSettings.textColor
        }
      });
    }

    function initCharts(theme, indicator, interval, columns) {
      forexContainer.innerHTML = '<div class="section-title">Forex & Commodities</div>';
      cryptoContainer.innerHTML = '<div class="section-title">Cryptocurrencies</div>';
      forexWidgets = [];
      cryptoWidgets = [];

      const chartWidth = `calc(${100 / columns}% - 20px)`;

      forexPairs.forEach((pair, index) => {
        const chartContainer = document.createElement('div');
        chartContainer.className = 'chart-container';
        chartContainer.id = `forex-container-${index}`;
        chartContainer.style.width = chartWidth;
        
        const chartHeader = document.createElement('div');
        chartHeader.className = 'chart-header';
        
        const title = document.createElement('h2');
        title.textContent = pair;
        chartHeader.appendChild(title);

        const indicatorSelect = document.createElement('select');
        indicatorSelect.className = 'selector';
        indicatorSelect.innerHTML = `
          <option value="ADX">ADX</option>
          <option value="MA">MA</option>
          <option value="EMA">EMA</option>
          <option value="RSI">RSI</option>
          <option value="MACD">MACD</option>
          <option value="BB">BB</option>
        `;
        indicatorSelect.value = indicator;
        indicatorSelect.addEventListener('change', (event) => {
          updateChart(index, timeframeSelect.value, themeSelector.value, event.target.value, false);
        });
        chartHeader.appendChild(indicatorSelect);

        const timeframeSelect = document.createElement('select');
        timeframeSelect.className = 'selector';
        timeframeSelect.innerHTML = `
          <option value="D">Daily</option>
          <option value="240">4 Hours</option>
          <option value="60">1 Hour</option>
          <option value="30">30 Minutes</option>
          <option value="15">15 Minutes</option>
          <option value="5">5 Minutes</option>
          <option value="1">1 Minute</option>
        `;
        timeframeSelect.value = interval;
        timeframeSelect.addEventListener('change', (event) => {
          updateChart(index, event.target.value, themeSelector.value, indicatorSelect.value, false);
        });
        chartHeader.appendChild(timeframeSelect);

        chartContainer.appendChild(chartHeader);

        const chartDiv = document.createElement('div');
        chartDiv.id = `chart-forex-${index}`;
        chartDiv.className = 'chart';
        chartContainer.appendChild(chartDiv);

        forexContainer.appendChild(chartContainer);

        forexWidgets.push(createWidget(pair, index, interval, theme, indicator));
      });

      cryptoPairs.forEach((pair, index) => {
        const chartContainer = document.createElement('div');
        chartContainer.className = 'chart-container';
        chartContainer.id = `crypto-container-${index}`;
        chartContainer.style.width = chartWidth;
        
        const chartHeader = document.createElement('div');
        chartHeader.className = 'chart-header';
        
        const title = document.createElement('h2');
        title.textContent = pair;
        chartHeader.appendChild(title);

        const indicatorSelect = document.createElement('select');
        indicatorSelect.className = 'selector';
        indicatorSelect.innerHTML = `
          <option value="ADX">ADX</option>
          <option value="MA">MA</option>
          <option value="EMA">EMA</option>
          <option value="RSI">RSI</option>
          <option value="MACD">MACD</option>
          <option value="BB">BB</option>
        `;
        indicatorSelect.value = indicator;
        indicatorSelect.addEventListener('change', (event) => {
          updateChart(index, timeframeSelect.value, themeSelector.value, event.target.value, true);
        });
        chartHeader.appendChild(indicatorSelect);

        const timeframeSelect = document.createElement('select');
        timeframeSelect.className = 'selector';
        timeframeSelect.innerHTML = `
          <option value="D">Daily</option>
          <option value="240">4 Hours</option>
          <option value="60">1 Hour</option>
          <option value="30">30 Minutes</option>
          <option value="15">15 Minutes</option>
          <option value="5">5 Minutes</option>
          <option value="1">1 Minute</option>
        `;
        timeframeSelect.value = interval;
        timeframeSelect.addEventListener('change', (event) => {
          updateChart(index, event.target.value, themeSelector.value, indicatorSelect.value, true);
        });
        chartHeader.appendChild(timeframeSelect);

        chartContainer.appendChild(chartHeader);

        const chartDiv = document.createElement('div');
        chartDiv.id = `chart-crypto-${index}`;
        chartDiv.className = 'chart';
        chartContainer.appendChild(chartDiv);

        cryptoContainer.appendChild(chartContainer);

        cryptoWidgets.push(createWidget(pair, index, interval, theme, indicator, true));
      });
    }

    function updateChart(index, interval, theme, indicator, isCrypto) {
      const widgets = isCrypto ? cryptoWidgets : forexWidgets;
      const pairs = isCrypto ? cryptoPairs : forexPairs;
      
      widgets[index].remove();
      widgets[index] = createWidget(pairs[index], index, interval, theme, indicator, isCrypto);
    }

    function updateAllCharts(theme, indicator, interval, columns) {
      const chartWidth = `calc(${100 / columns}% - 20px)`;
      
      forexWidgets.forEach((widget, index) => {
        const container = document.getElementById(`forex-container-${index}`);
        container.style.width = chartWidth;
        updateChart(index, interval, theme, indicator, false);
      });

      cryptoWidgets.forEach((widget, index) => {
        const container = document.getElementById(`crypto-container-${index}`);
        container.style.width = chartWidth;
        updateChart(index, interval, theme, indicator, true);
      });
    }

    function initSymbolSelector() {
      const allPairs = [...forexPairs, ...cryptoPairs];
      allPairs.forEach((pair, index) => {
        const checkbox = document.createElement('div');
        checkbox.className = 'symbol-checkbox';
        checkbox.innerHTML = `
          <input type="checkbox" id="symbol-${index}" checked>
          <label for="symbol-${index}">${pair}</label>
        `;
        checkbox.querySelector('input').addEventListener('change', (event) => {
          toggleSymbol(pair, event.target.checked);
        });
        symbolSelector.appendChild(checkbox);
      });
    }

    function toggleSymbol(pair, show) {
      const isForex = forexPairs.includes(pair);
      const container = isForex ? forexContainer : cryptoContainer;
      const index = isForex ? forexPairs.indexOf(pair) : cryptoPairs.indexOf(pair);
      const chartContainer = container.querySelector(`#${isForex ? 'forex' : 'crypto'}-container-${index}`);
      
      if (show) {
        chartContainer.style.display = 'block';
      } else {
        chartContainer.style.display = 'none';
      }
    }

    themeSelector.addEventListener('change', (event) => {
      document.body.className = event.target.value;
      updateAllCharts(event.target.value, globalIndicatorSelector.value, globalTimeframeSelector.value, columnSelector.value);
    });

    globalIndicatorSelector.addEventListener('change', (event) => {
      updateAllCharts(themeSelector.value, event.target.value, globalTimeframeSelector.value, columnSelector.value);
    });

    globalTimeframeSelector.addEventListener('change', (event) => {
      updateAllCharts(themeSelector.value, globalIndicatorSelector.value, event.target.value, columnSelector.value);
    });

    columnSelector.addEventListener('change', (event) => {
      updateAllCharts(themeSelector.value, globalIndicatorSelector.value, globalTimeframeSelector.value, event.target.value);
    });

    // Initialize charts with beast mode theme, ADX indicator, Daily timeframe, and 3 columns
    initCharts('beast-mode', 'ADX', 'D', 3);
    initSymbolSelector();
  </script>
</body>
</html>